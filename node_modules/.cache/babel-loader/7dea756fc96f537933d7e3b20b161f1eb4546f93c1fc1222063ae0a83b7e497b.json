{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Pomelo/Desktop/Programacion/Food/Front-End/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Pomelo/Desktop/Programacion/Food/Front-End/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var initialState={allRecipes:[],shownRecipes:[],recipeDetails:[],diets:[]};export default function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'FETCH_RECIPES':return _objectSpread(_objectSpread({},state),{},{shownRecipes:action.payload,// Trough Redux, action.payload communicates with the corresponding react component to display the needed information\nallRecipes:action.payload});case'FETCH_RECIPE_BY_NAME':return _objectSpread(_objectSpread({},state),{},{shownRecipes:action.payload});case'FETCH_RECIPE_DETAILS':return _objectSpread(_objectSpread({},state),{},{recipeDetails:action.payload});case'CREATE_RECIPE':return _objectSpread({},state);case'FETCH_DIETS':return _objectSpread(_objectSpread({},state),{},{diets:action.payload});case'FILTER_BY_DIET_TYPE':var all=state.allRecipes;// We use the state of allRecipes to filter by diet type, to not grab any kind of recipe, just the corresponding ones\nvar filter=action.payload==='all'?all:all.filter(function(r){return r.diets.find(function(d){return d.name===action.payload||d===action.payload;});});// Which instruction has been received?\nreturn _objectSpread(_objectSpread({},state),{},{shownRecipes:filter});case\"ORDER_BY_HEALTHSCORE\":var sortedByHealthScore=_toConsumableArray(state.shownRecipes);sortedByHealthScore=action.payload==='asc'?state.shownRecipes.sort(function(a,b){if(a.healthScore>b.healthScore)return 1;if(a.healthScore<b.healthScore)return-1;return 0;}):state.shownRecipes.sort(function(a,b){if(a.healthScore<b.healthScore)return 1;if(a.healthScore>b.healthScore)return-1;return 0;});return _objectSpread(_objectSpread({},state),{},{shownRecipes:sortedByHealthScore});case'ORDER_BY_LETTER':var orderByLetter=_toConsumableArray(state.shownRecipes);orderByLetter=action.payload==='atoz'?// Has the instruction been received?\nstate.shownRecipes.sort(function(a,b){if(a.name.toLowerCase()>b.name.toLowerCase())return 1;// One case \"a > b === true\"\nif(a.name.toLowerCase()<b.name.toLowerCase())return-1;return 0;}):state.shownRecipes.sort(function(a,b){if(a.name.toLowerCase()<b.name.toLowerCase())return 1;// Other case \"a > b === false\"\nif(a.name.toLowerCase()>b.name.toLowerCase())return-1;return 0;});return _objectSpread(_objectSpread({},state),{},{shownRecipes:orderByLetter});case'CLEAR_DETAIL':return _objectSpread(_objectSpread({},state),{},{recipeDetails:[]});default:return state;}}","map":{"version":3,"names":["initialState","allRecipes","shownRecipes","recipeDetails","diets","reducer","state","action","type","payload","all","filter","r","find","d","name","sortedByHealthScore","sort","a","b","healthScore","orderByLetter","toLowerCase"],"sources":["C:/Users/Pomelo/Desktop/Programacion/Food/Front-End/client/src/redux/reducer/index.js"],"sourcesContent":["const initialState = {\r\n    allRecipes: [],\r\n    shownRecipes: [],\r\n    recipeDetails: [],\r\n    diets: [],\r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'FETCH_RECIPES':\r\n            return {\r\n                ...state,\r\n                shownRecipes: action.payload,  // Trough Redux, action.payload communicates with the corresponding react component to display the needed information\r\n                allRecipes: action.payload,\r\n            };\r\n        case 'FETCH_RECIPE_BY_NAME':\r\n            return {\r\n                ...state,\r\n                shownRecipes: action.payload,\r\n            };\r\n        case 'FETCH_RECIPE_DETAILS':\r\n            return {\r\n                ...state,\r\n                recipeDetails: action.payload,\r\n            };\r\n        case 'CREATE_RECIPE':\r\n            return {\r\n                ...state,\r\n            };\r\n        case 'FETCH_DIETS':\r\n            return {\r\n                ...state,\r\n                diets: action.payload,\r\n            };\r\n        case 'FILTER_BY_DIET_TYPE': \r\n            const all = state.allRecipes;  // We use the state of allRecipes to filter by diet type, to not grab any kind of recipe, just the corresponding ones\r\n            const filter = action.payload === 'all' ? all : all.filter(r => r.diets.find(d => d.name === action.payload || d === action.payload));  // Which instruction has been received?\r\n            return {\r\n                ...state,\r\n                shownRecipes: filter\r\n            }\r\n        case \"ORDER_BY_HEALTHSCORE\":\r\n            let sortedByHealthScore = [...state.shownRecipes];\r\n            sortedByHealthScore = action.payload === 'asc' ?\r\n                state.shownRecipes.sort(function (a, b) {\r\n                    if (a.healthScore > b.healthScore) return 1;\r\n                    if (a.healthScore < b.healthScore) return -1;\r\n                    return 0;\r\n                }) :\r\n                state.shownRecipes.sort(function (a, b) {\r\n                    if (a.healthScore < b.healthScore) return 1;\r\n                    if (a.healthScore > b.healthScore) return -1;\r\n                    return 0;\r\n                });\r\n            return {\r\n                ...state,\r\n                shownRecipes: sortedByHealthScore,\r\n            };\r\n        case 'ORDER_BY_LETTER': \r\n            let orderByLetter = [...state.shownRecipes];\r\n            orderByLetter = action.payload === 'atoz' ?  // Has the instruction been received?\r\n                state.shownRecipes.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;  // One case \"a > b === true\"\r\n                    if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\r\n                    return 0;\r\n                }) :\r\n                state.shownRecipes.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() < b.name.toLowerCase()) return 1;  // Other case \"a > b === false\"\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) return -1;\r\n                    return 0\r\n                });\r\n            return {\r\n                ...state,\r\n                shownRecipes: orderByLetter,\r\n            }\r\n        case 'CLEAR_DETAIL':\r\n            return {\r\n                ...state,\r\n                recipeDetails: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}